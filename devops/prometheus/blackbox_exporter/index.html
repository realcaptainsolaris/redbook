<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="My tiny dev garden"><meta name=author content=Lyz><link href=../alertmanager/ rel=prev><link href=../../../elasticsearch_exporter/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.11"><title>Blackbox Exporter - The Red Lobster Book</title><link rel=stylesheet href=../../../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../css/timeago.css><link rel=stylesheet href=../../../stylesheets/extra.css><link rel=stylesheet href=../../../stylesheets/links.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=light-blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#installation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> </div> </aside> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="The Red Lobster Book" class="md-header__button md-logo" aria-label="The Red Lobster Book" data-md-component=logo> <img src=../../../img/logo.bmp alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> The Red Lobster Book </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Blackbox Exporter </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=light-blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue-grey data-md-color-accent=light-blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/realcaptainsolaris/redbook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> realcaptainsolaris/redbook </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="The Red Lobster Book" class="md-nav__button md-logo" aria-label="The Red Lobster Book" data-md-component=logo> <img src=../../../img/logo.bmp alt=logo> </a> The Red Lobster Book </label> <div class=md-nav__source> <a href=https://github.com/realcaptainsolaris/redbook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> realcaptainsolaris/redbook </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Coding </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <div class="md-nav__link md-nav__container"> <a href=../../../code_learning/ class="md-nav__link "> <span class=md-ellipsis> Learning to code </span> </a> <label class="md-nav__link " for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Learning to code </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../frontend_learning/ class=md-nav__link> <span class=md-ellipsis> Frontend developer </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Languages </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Languages </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1> <div class="md-nav__link md-nav__container"> <a href=../../../python/ class="md-nav__link "> <span class=md-ellipsis> Python </span> </a> <label class="md-nav__link " for=__nav_2_2_1 id=__nav_2_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_1> <div class="md-nav__link md-nav__container"> <a href=../../../coding/python/python_project_template/ class="md-nav__link "> <span class=md-ellipsis> Project Template </span> </a> <label class="md-nav__link " for=__nav_2_2_1_1 id=__nav_2_2_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_2_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_1> <span class="md-nav__icon md-icon"></span> Project Template </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_1_1> <div class="md-nav__link md-nav__container"> <a href=../../../coding/python/python_project_template/python_cli_template/ class="md-nav__link "> <span class=md-ellipsis> Command-line Project Template </span> </a> <label class="md-nav__link " for=__nav_2_2_1_1_1 id=__nav_2_2_1_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_2_1_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_1_1> <span class="md-nav__icon md-icon"></span> Command-line Project Template </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../coding/python/python_project_template/python_sqlalchemy_without_flask/ class=md-nav__link> <span class=md-ellipsis> Configure SQLAlchemy for projects without flask </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../coding/python/python_project_template/python_flask_template/ class=md-nav__link> <span class=md-ellipsis> Flask Project Template </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/python_project_template/python_microservices_template/ class=md-nav__link> <span class=md-ellipsis> Microservices Project Template </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_1_4> <label class=md-nav__link for=__nav_2_2_1_1_4 id=__nav_2_2_1_1_4_label tabindex=0> <span class=md-ellipsis> Common configurations </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_2_1_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_1_4> <span class="md-nav__icon md-icon"></span> Common configurations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../coding/python/python_project_template/python_docs/ class=md-nav__link> <span class=md-ellipsis> Create the documentation repository </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/python_config_yaml/ class=md-nav__link> <span class=md-ellipsis> Load config from YAML </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/python_project_template/python_sqlalchemy_mariadb/ class=md-nav__link> <span class=md-ellipsis> Configure SQLAlchemy to use the MariaDB/Mysql backend </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/python_project_template/python_docker/ class=md-nav__link> <span class=md-ellipsis> Configure Docker to host the application </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_2> <label class=md-nav__link for=__nav_2_2_1_2 id=__nav_2_2_1_2_label tabindex=0> <span class=md-ellipsis> Libraries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_2> <span class="md-nav__icon md-icon"></span> Libraries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../coding/python/pyenv/ class=md-nav__link> <span class=md-ellipsis> Pyenv </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/alembic/ class=md-nav__link> <span class=md-ellipsis> Alembic </span> </a> </li> <li class=md-nav__item> <a href=../../../asyncio/ class=md-nav__link> <span class=md-ellipsis> asyncio </span> </a> </li> <li class=md-nav__item> <a href=../../../beautifulsoup/ class=md-nav__link> <span class=md-ellipsis> BeautifulSoup </span> </a> </li> <li class=md-nav__item> <a href=../../../boto3/ class=md-nav__link> <span class=md-ellipsis> Boto3 </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/click/ class=md-nav__link> <span class=md-ellipsis> Click </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/dash/ class=md-nav__link> <span class=md-ellipsis> Dash </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/dash_leaflet/ class=md-nav__link> <span class=md-ellipsis> Dash Leaflet </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/deepdiff/ class=md-nav__link> <span class=md-ellipsis> DeepDiff </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/factoryboy/ class=md-nav__link> <span class=md-ellipsis> FactoryBoy </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/faker/ class=md-nav__link> <span class=md-ellipsis> Faker </span> </a> </li> <li class=md-nav__item> <a href=../../../fastapi/ class=md-nav__link> <span class=md-ellipsis> FastAPI </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/flask/ class=md-nav__link> <span class=md-ellipsis> Flask </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/flask_restplus/ class=md-nav__link> <span class=md-ellipsis> Flask Restplus </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/folium/ class=md-nav__link> <span class=md-ellipsis> Folium </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/feedparser/ class=md-nav__link> <span class=md-ellipsis> Feedparser </span> </a> </li> <li class=md-nav__item> <a href=../../../gettext/ class=md-nav__link> <span class=md-ellipsis> Gettext </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/gitpython/ class=md-nav__link> <span class=md-ellipsis> GitPython </span> </a> </li> <li class=md-nav__item> <a href=../../../goodconf/ class=md-nav__link> <span class=md-ellipsis> Goodconf </span> </a> </li> <li class=md-nav__item> <a href=../../../ics/ class=md-nav__link> <span class=md-ellipsis> ICS </span> </a> </li> <li class=md-nav__item> <a href=../../../python_jinja2/ class=md-nav__link> <span class=md-ellipsis> Jinja2 </span> </a> </li> <li class=md-nav__item> <a href=../../../maison/ class=md-nav__link> <span class=md-ellipsis> Maison </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/mkdocstrings/ class=md-nav__link> <span class=md-ellipsis> mkdocstrings </span> </a> </li> <li class=md-nav__item> <a href=../../../networkx/ class=md-nav__link> <span class=md-ellipsis> NetworkX </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/pandas/ class=md-nav__link> <span class=md-ellipsis> Pandas </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/passpy/ class=md-nav__link> <span class=md-ellipsis> Passpy </span> </a> </li> <li class=md-nav__item> <a href=../../../pexpect/ class=md-nav__link> <span class=md-ellipsis> pexpect </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_2_28> <div class="md-nav__link md-nav__container"> <a href=../../../coding/python/prompt_toolkit/ class="md-nav__link "> <span class=md-ellipsis> Prompt Toolkit </span> </a> <label class="md-nav__link " for=__nav_2_2_1_2_28 id=__nav_2_2_1_2_28_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_2_1_2_28_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_2_28> <span class="md-nav__icon md-icon"></span> Prompt Toolkit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../prompt_toolkit_repl/ class=md-nav__link> <span class=md-ellipsis> REPL </span> </a> </li> <li class=md-nav__item> <a href=../../../prompt_toolkit_fullscreen_applications/ class=md-nav__link> <span class=md-ellipsis> Full screen applications </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_2_29> <div class="md-nav__link md-nav__container"> <a href=../../../coding/python/pydantic/ class="md-nav__link "> <span class=md-ellipsis> Pydantic </span> </a> <label class="md-nav__link " for=__nav_2_2_1_2_29 id=__nav_2_2_1_2_29_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_2_2_1_2_29_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_2_29> <span class="md-nav__icon md-icon"></span> Pydantic </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../coding/python/pydantic_types/ class=md-nav__link> <span class=md-ellipsis> Pydantic Field Types </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/pydantic_validators/ class=md-nav__link> <span class=md-ellipsis> Pydantic Validators </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/pydantic_exporting/ class=md-nav__link> <span class=md-ellipsis> Pydantic Exporting Models </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/pydantic_functions/ class=md-nav__link> <span class=md-ellipsis> Pydantic Validating Functions </span> </a> </li> <li class=md-nav__item> <a href=../../../pydantic_factories/ class=md-nav__link> <span class=md-ellipsis> Pydantic Factories </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/pydantic_mypy_plugin/ class=md-nav__link> <span class=md-ellipsis> Pydantic Mypy Plugin </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../coding/python/pypika/ class=md-nav__link> <span class=md-ellipsis> Pypika </span> </a> </li> <li class=md-nav__item> <a href=../../../python_elasticsearch/ class=md-nav__link> <span class=md-ellipsis> Elasticsearch </span> </a> </li> <li class=md-nav__item> <a href=../../../python_gnupg/ class=md-nav__link> <span class=md-ellipsis> python-gnupg </span> </a> </li> <li class=md-nav__item> <a href=../../../python_mysql/ class=md-nav__link> <span class=md-ellipsis> Python Mysql </span> </a> </li> <li class=md-nav__item> <a href=../../../pythonping/ class=md-nav__link> <span class=md-ellipsis> pythonping </span> </a> </li> <li class=md-nav__item> <a href=../../../python_vlc/ class=md-nav__link> <span class=md-ellipsis> Python VLC </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/plotly/ class=md-nav__link> <span class=md-ellipsis> Plotly </span> </a> </li> <li class=md-nav__item> <a href=../../../questionary/ class=md-nav__link> <span class=md-ellipsis> questionary </span> </a> </li> <li class=md-nav__item> <a href=../../../rich/ class=md-nav__link> <span class=md-ellipsis> rich </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/ruamel_yaml/ class=md-nav__link> <span class=md-ellipsis> Ruamel YAML </span> </a> </li> <li class=md-nav__item> <a href=../../../selenium/ class=md-nav__link> <span class=md-ellipsis> Selenium </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/sqlalchemy/ class=md-nav__link> <span class=md-ellipsis> SQLAlchemy </span> </a> </li> <li class=md-nav__item> <a href=../../../sqlite3/ class=md-nav__link> <span class=md-ellipsis> sqlite3 </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/redis-py/ class=md-nav__link> <span class=md-ellipsis> Redis-py </span> </a> </li> <li class=md-nav__item> <a href=../../../requests/ class=md-nav__link> <span class=md-ellipsis> Requests </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/requests_mock/ class=md-nav__link> <span class=md-ellipsis> Requests-mock </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/rq/ class=md-nav__link> <span class=md-ellipsis> Rq </span> </a> </li> <li class=md-nav__item> <a href=../../../python_sh/ class=md-nav__link> <span class=md-ellipsis> sh </span> </a> </li> <li class=md-nav__item> <a href=../../../talkey/ class=md-nav__link> <span class=md-ellipsis> Talkey </span> </a> </li> <li class=md-nav__item> <a href=../../../tenacity/ class=md-nav__link> <span class=md-ellipsis> Tenacity </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/tinydb/ class=md-nav__link> <span class=md-ellipsis> TinyDB </span> </a> </li> <li class=md-nav__item> <a href=../../../typer/ class=md-nav__link> <span class=md-ellipsis> Typer </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/yoyo/ class=md-nav__link> <span class=md-ellipsis> Yoyo </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../coding/python/type_hints/ class=md-nav__link> <span class=md-ellipsis> Type Hints </span> </a> </li> <li class=md-nav__item> <a href=../../../python_logging/ class=md-nav__link> <span class=md-ellipsis> Logging </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/python_code_styling/ class=md-nav__link> <span class=md-ellipsis> Code Styling </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/docstrings/ class=md-nav__link> <span class=md-ellipsis> Docstrings </span> </a> </li> <li class=md-nav__item> <a href=../../../python_properties/ class=md-nav__link> <span class=md-ellipsis> Properties </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_8> <div class="md-nav__link md-nav__container"> <a href=../../../python_package_management/ class="md-nav__link "> <span class=md-ellipsis> Package Management </span> </a> <label class="md-nav__link " for=__nav_2_2_1_8 id=__nav_2_2_1_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_2_1_8_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_8> <span class="md-nav__icon md-icon"></span> Package Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../pdm/ class=md-nav__link> <span class=md-ellipsis> PDM </span> </a> </li> <li class=md-nav__item> <a href=../../../pipenv/ class=md-nav__link> <span class=md-ellipsis> Pipenv </span> </a> </li> <li class=md-nav__item> <a href=../../../python_poetry/ class=md-nav__link> <span class=md-ellipsis> Poetry </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../lazy_loading/ class=md-nav__link> <span class=md-ellipsis> Lazy loading </span> </a> </li> <li class=md-nav__item> <a href=../../../python_plugin_system/ class=md-nav__link> <span class=md-ellipsis> Plugin System </span> </a> </li> <li class=md-nav__item> <a href=../../../python_profiling/ class=md-nav__link> <span class=md-ellipsis> Profiling </span> </a> </li> <li class=md-nav__item> <a href=../../../python_optimization/ class=md-nav__link> <span class=md-ellipsis> Optimization </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/python_anti_patterns/ class=md-nav__link> <span class=md-ellipsis> Anti-Patterns </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_1_14> <div class="md-nav__link md-nav__container"> <a href=../../../coding/python/pytest/ class="md-nav__link "> <span class=md-ellipsis> Pytest </span> </a> <label class="md-nav__link " for=__nav_2_2_1_14 id=__nav_2_2_1_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_2_1_14_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_1_14> <span class="md-nav__icon md-icon"></span> Pytest </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../coding/python/pytest_parametrized_testing/ class=md-nav__link> <span class=md-ellipsis> Parametrized testing </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/pytest_cases/ class=md-nav__link> <span class=md-ellipsis> Pytest-cases </span> </a> </li> <li class=md-nav__item> <a href=../../../pytest_httpserver/ class=md-nav__link> <span class=md-ellipsis> Pytest-HttpServer </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../python_internationalization/ class=md-nav__link> <span class=md-ellipsis> Internationalization </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/python_snippets/ class=md-nav__link> <span class=md-ellipsis> Python Snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/python/data_classes/ class=md-nav__link> <span class=md-ellipsis> Data Classes </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_2> <div class="md-nav__link md-nav__container"> <a href=../../../vuejs/ class="md-nav__link "> <span class=md-ellipsis> Vue.js </span> </a> <label class="md-nav__link " for=__nav_2_2_2 id=__nav_2_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_2> <span class="md-nav__icon md-icon"></span> Vue.js </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../vue_snippets/ class=md-nav__link> <span class=md-ellipsis> Vue snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../vuetify/ class=md-nav__link> <span class=md-ellipsis> Vuetify </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_2_3> <label class=md-nav__link for=__nav_2_2_2_3 id=__nav_2_2_2_3_label tabindex=0> <span class=md-ellipsis> Development tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_2_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_2_3> <span class="md-nav__icon md-icon"></span> Development tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cypress/ class=md-nav__link> <span class=md-ellipsis> Cypress </span> </a> </li> <li class=md-nav__item> <a href=../../../vite/ class=md-nav__link> <span class=md-ellipsis> Vite </span> </a> </li> <li class=md-nav__item> <a href=../../../vitest/ class=md-nav__link> <span class=md-ellipsis> Vitest </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_3> <label class=md-nav__link for=__nav_2_2_3 id=__nav_2_2_3_label tabindex=0> <span class=md-ellipsis> Bash </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_3> <span class="md-nav__icon md-icon"></span> Bash </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bash_snippets/ class=md-nav__link> <span class=md-ellipsis> Bash snippets </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../coding/json/json/ class=md-nav__link> <span class=md-ellipsis> JSON </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/sql/sql/ class=md-nav__link> <span class=md-ellipsis> SQL </span> </a> </li> <li class=md-nav__item> <a href=../../../sqlite/ class=md-nav__link> <span class=md-ellipsis> SQLite </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/yaml/yaml/ class=md-nav__link> <span class=md-ellipsis> YAML </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/promql/promql/ class=md-nav__link> <span class=md-ellipsis> Promql </span> </a> </li> <li class=md-nav__item> <a href=../../../html/ class=md-nav__link> <span class=md-ellipsis> HTML </span> </a> </li> <li class=md-nav__item> <a href=../../../css/ class=md-nav__link> <span class=md-ellipsis> CSS </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_11> <div class="md-nav__link md-nav__container"> <a href=../../../coding/javascript/javascript/ class="md-nav__link "> <span class=md-ellipsis> Javascript </span> </a> <label class="md-nav__link " for=__nav_2_2_11 id=__nav_2_2_11_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_11_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_11> <span class="md-nav__icon md-icon"></span> Javascript </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../javascript_snippets/ class=md-nav__link> <span class=md-ellipsis> Javascript snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../mermaidjs/ class=md-nav__link> <span class=md-ellipsis> MermaidJS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../qwik/ class=md-nav__link> <span class=md-ellipsis> Qwik </span> </a> </li> <li class=md-nav__item> <a href=../../jwt/ class=md-nav__link> <span class=md-ellipsis> JWT </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/react/react/ class=md-nav__link> <span class=md-ellipsis> React </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class=md-ellipsis> Generic Coding Practices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Generic Coding Practices </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_1> <div class="md-nav__link md-nav__container"> <a href=../../../versioning/ class="md-nav__link "> <span class=md-ellipsis> Program Versioning </span> </a> <label class="md-nav__link " for=__nav_2_3_1 id=__nav_2_3_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_1> <span class="md-nav__icon md-icon"></span> Program Versioning </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../semantic_versioning/ class=md-nav__link> <span class=md-ellipsis> Semantic Versioning </span> </a> </li> <li class=md-nav__item> <a href=../../../calendar_versioning/ class=md-nav__link> <span class=md-ellipsis> Calendar Versioning </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../use_warnings/ class=md-nav__link> <span class=md-ellipsis> Use warnings to evolve your code </span> </a> </li> <li class=md-nav__item> <a href=../../../changelog/ class=md-nav__link> <span class=md-ellipsis> Keep a Changelog </span> </a> </li> <li class=md-nav__item> <a href=../../../documentation/ class=md-nav__link> <span class=md-ellipsis> Writing good documentation </span> </a> </li> <li class=md-nav__item> <a href=../../../coding/tdd/ class=md-nav__link> <span class=md-ellipsis> TDD </span> </a> </li> <li class=md-nav__item> <a href=../../../abstract_syntax_trees/ class=md-nav__link> <span class=md-ellipsis> Abstract Syntax Trees </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Software Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Software Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../architecture/solid/ class=md-nav__link> <span class=md-ellipsis> SOLID </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_2> <div class="md-nav__link md-nav__container"> <a href=../../../architecture/domain_driven_design/ class="md-nav__link "> <span class=md-ellipsis> Domain Driven Design </span> </a> <label class="md-nav__link " for=__nav_2_4_2 id=__nav_2_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_2> <span class="md-nav__icon md-icon"></span> Domain Driven Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../architecture/repository_pattern/ class=md-nav__link> <span class=md-ellipsis> Repository Pattern </span> </a> </li> <li class=md-nav__item> <a href=../../../architecture/service_layer_pattern/ class=md-nav__link> <span class=md-ellipsis> Service Layer Pattern </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../adr/ class=md-nav__link> <span class=md-ellipsis> Architecture Decision Record </span> </a> </li> <li class=md-nav__item> <a href=../../../architecture/database_architecture/ class=md-nav__link> <span class=md-ellipsis> Database Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../../architecture/orm_builder_query_or_raw_sql/ class=md-nav__link> <span class=md-ellipsis> ORM, Query Builder or Raw SQL </span> </a> </li> <li class=md-nav__item> <a href=../../../architecture/microservices/ class=md-nav__link> <span class=md-ellipsis> Microservices </span> </a> </li> <li class=md-nav__item> <a href=../../../architecture/restful_apis/ class=md-nav__link> <span class=md-ellipsis> Restful APIS </span> </a> </li> <li class=md-nav__item> <a href=../../../architecture/redis/ class=md-nav__link> <span class=md-ellipsis> Redis </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../frontend_development/ class=md-nav__link> <span class=md-ellipsis> Frontend Development </span> </a> </li> <li class=md-nav__item> <a href=../../../git/ class=md-nav__link> <span class=md-ellipsis> Git </span> </a> </li> <li class=md-nav__item> <a href=../../../park_programming/ class=md-nav__link> <span class=md-ellipsis> Park programming </span> </a> </li> <li class=md-nav__item> <a href=../../../sponsor/ class=md-nav__link> <span class=md-ellipsis> Sponsor </span> </a> </li> <li class=md-nav__item> <a href=../../../issues/ class=md-nav__link> <span class=md-ellipsis> Issues </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <div class="md-nav__link md-nav__container"> <a href=../../devops/ class="md-nav__link "> <span class=md-ellipsis> DevOps </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> DevOps </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Infrastructure as Code </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Infrastructure as Code </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../gitea/ class=md-nav__link> <span class=md-ellipsis> Gitea </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_2> <div class="md-nav__link md-nav__container"> <a href=../../helm/helm/ class="md-nav__link "> <span class=md-ellipsis> Helm </span> </a> <label class="md-nav__link " for=__nav_3_1_2 id=__nav_3_1_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_2> <span class="md-nav__icon md-icon"></span> Helm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../helm/helm_installation/ class=md-nav__link> <span class=md-ellipsis> Helm Installation </span> </a> </li> <li class=md-nav__item> <a href=../../helm/helm_commands/ class=md-nav__link> <span class=md-ellipsis> Helm Commands </span> </a> </li> <li class=md-nav__item> <a href=../../helm/helm_secrets/ class=md-nav__link> <span class=md-ellipsis> Helm Secrets </span> </a> </li> <li class=md-nav__item> <a href=../../../helm_git/ class=md-nav__link> <span class=md-ellipsis> Helm Git </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../helmfile/ class=md-nav__link> <span class=md-ellipsis> Helmfile </span> </a> </li> <li class=md-nav__item> <a href=../../../terraform/ class=md-nav__link> <span class=md-ellipsis> Terraform </span> </a> </li> <li class=md-nav__item> <a href=../../../ansible_snippets/ class=md-nav__link> <span class=md-ellipsis> Ansible Snippets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Infrastructure Solutions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Infrastructure Solutions </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1> <div class="md-nav__link md-nav__container"> <a href=../../kubernetes/kubernetes/ class="md-nav__link "> <span class=md-ellipsis> Kubernetes </span> </a> <label class="md-nav__link " for=__nav_3_2_1 id=__nav_3_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_2> <label class=md-nav__link for=__nav_3_2_1_2 id=__nav_3_2_1_2_label tabindex=0> <span class=md-ellipsis> Resources </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_2> <span class="md-nav__icon md-icon"></span> Resources </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_namespaces/ class=md-nav__link> <span class=md-ellipsis> Namespaces </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_pods/ class=md-nav__link> <span class=md-ellipsis> Pods </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_replicasets/ class=md-nav__link> <span class=md-ellipsis> ReplicaSets </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_deployments/ class=md-nav__link> <span class=md-ellipsis> Deployments </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_hpa/ class=md-nav__link> <span class=md-ellipsis> Horizontal Pod Autoscaling </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_volumes/ class=md-nav__link> <span class=md-ellipsis> Volumes </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_services/ class=md-nav__link> <span class=md-ellipsis> Services </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_labels/ class=md-nav__link> <span class=md-ellipsis> Labels </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_annotations/ class=md-nav__link> <span class=md-ellipsis> Annotations </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_ingress/ class=md-nav__link> <span class=md-ellipsis> Ingress </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_operators/ class=md-nav__link> <span class=md-ellipsis> Operators </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_jobs/ class=md-nav__link> <span class=md-ellipsis> Jobs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_3> <div class="md-nav__link md-nav__container"> <a href=../../kubectl/kubectl/ class="md-nav__link "> <span class=md-ellipsis> Kubectl </span> </a> <label class="md-nav__link " for=__nav_3_2_1_3 id=__nav_3_2_1_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_3> <span class="md-nav__icon md-icon"></span> Kubectl </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubectl/kubectl_installation/ class=md-nav__link> <span class=md-ellipsis> Kubectl Installation </span> </a> </li> <li class=md-nav__item> <a href=../../kubectl/kubectl_commands/ class=md-nav__link> <span class=md-ellipsis> Kubectl Commands </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_4> <label class=md-nav__link for=__nav_3_2_1_4 id=__nav_3_2_1_4_label tabindex=0> <span class=md-ellipsis> Additional Components </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_4> <span class="md-nav__icon md-icon"></span> Additional Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_metric_server/ class=md-nav__link> <span class=md-ellipsis> Metrics Server </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_ingress_controller/ class=md-nav__link> <span class=md-ellipsis> Ingress Controller </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_external_dns/ class=md-nav__link> <span class=md-ellipsis> External DNS </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_cluster_autoscaler/ class=md-nav__link> <span class=md-ellipsis> Cluster Autoscaler </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_dashboard/ class=md-nav__link> <span class=md-ellipsis> Dashboard </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_storage_driver/ class=md-nav__link> <span class=md-ellipsis> Storage Driver </span> </a> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_vertical_pod_autoscaler/ class=md-nav__link> <span class=md-ellipsis> Vertical Pod Autoscaler </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../kubernetes/kubernetes_networking/ class=md-nav__link> <span class=md-ellipsis> Networking </span> </a> </li> <li class=md-nav__item> <a href=../../../kubernetes_debugging/ class=md-nav__link> <span class=md-ellipsis> Debugging </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_1_7> <div class="md-nav__link md-nav__container"> <a href=../../kubernetes/kubernetes_tools/ class="md-nav__link "> <span class=md-ellipsis> Tools </span> </a> <label class="md-nav__link " for=__nav_3_2_1_7 id=__nav_3_2_1_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_1_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_1_7> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../krew/ class=md-nav__link> <span class=md-ellipsis> Krew </span> </a> </li> <li class=md-nav__item> <a href=../../../ksniff/ class=md-nav__link> <span class=md-ellipsis> Ksniff </span> </a> </li> <li class=md-nav__item> <a href=../../../mizu/ class=md-nav__link> <span class=md-ellipsis> Mizu </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2> <div class="md-nav__link md-nav__container"> <a href=../../aws/aws/ class="md-nav__link "> <span class=md-ellipsis> AWS </span> </a> <label class="md-nav__link " for=__nav_3_2_2 id=__nav_3_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2> <span class="md-nav__icon md-icon"></span> AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../aws_snippets/ class=md-nav__link> <span class=md-ellipsis> AWS Snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../aws_savings_plan/ class=md-nav__link> <span class=md-ellipsis> AWS Savings plan </span> </a> </li> <li class=md-nav__item> <a href=../../aws/security_groups/ class=md-nav__link> <span class=md-ellipsis> Security groups workflow </span> </a> </li> <li class=md-nav__item> <a href=../../aws/eks/ class=md-nav__link> <span class=md-ellipsis> EKS </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2_2_5> <div class="md-nav__link md-nav__container"> <a href=../../aws/iam/iam/ class="md-nav__link "> <span class=md-ellipsis> IAM </span> </a> <label class="md-nav__link " for=__nav_3_2_2_5 id=__nav_3_2_2_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_2_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2_2_5> <span class="md-nav__icon md-icon"></span> IAM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../aws/iam/iam_commands/ class=md-nav__link> <span class=md-ellipsis> IAM Commands </span> </a> </li> <li class=md-nav__item> <a href=../../aws/iam/iam_debug/ class=md-nav__link> <span class=md-ellipsis> IAM Debugging </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../aws/s3/ class=md-nav__link> <span class=md-ellipsis> S3 </span> </a> </li> <li class=md-nav__item> <a href=../../../aws_waf/ class=md-nav__link> <span class=md-ellipsis> WAF </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../../ci/ class="md-nav__link "> <span class=md-ellipsis> Continuous Integration </span> </a> <label class="md-nav__link " for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Continuous Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../drone/ class=md-nav__link> <span class=md-ellipsis> Drone </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_2> <label class=md-nav__link for=__nav_3_3_2 id=__nav_3_3_2_label tabindex=0> <span class=md-ellipsis> Linters </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_2> <span class="md-nav__icon md-icon"></span> Linters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../alex/ class=md-nav__link> <span class=md-ellipsis> Alex </span> </a> </li> <li class=md-nav__item> <a href=../../../flakeheaven/ class=md-nav__link> <span class=md-ellipsis> Flakeheaven </span> </a> </li> <li class=md-nav__item> <a href=../../flake8/ class=md-nav__link> <span class=md-ellipsis> Flake8 </span> </a> </li> <li class=md-nav__item> <a href=../../markdownlint/ class=md-nav__link> <span class=md-ellipsis> Markdownlint </span> </a> </li> <li class=md-nav__item> <a href=../../proselint/ class=md-nav__link> <span class=md-ellipsis> Proselint </span> </a> </li> <li class=md-nav__item> <a href=../../yamllint/ class=md-nav__link> <span class=md-ellipsis> Yamllint </span> </a> </li> <li class=md-nav__item> <a href=../../write_good/ class=md-nav__link> <span class=md-ellipsis> Write Good </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_3> <label class=md-nav__link for=__nav_3_3_3 id=__nav_3_3_3_label tabindex=0> <span class=md-ellipsis> Formatters/Fixers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_3> <span class="md-nav__icon md-icon"></span> Formatters/Fixers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../black/ class=md-nav__link> <span class=md-ellipsis> Black </span> </a> </li> <li class=md-nav__item> <a href=../../../yamlfix/ class=md-nav__link> <span class=md-ellipsis> Yamlfix </span> </a> </li> <li class=md-nav__item> <a href=../../../pyment/ class=md-nav__link> <span class=md-ellipsis> Pyment </span> </a> </li> <li class=md-nav__item> <a href=../../../mdformat/ class=md-nav__link> <span class=md-ellipsis> mdformat </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_4> <label class=md-nav__link for=__nav_3_3_4 id=__nav_3_3_4_label tabindex=0> <span class=md-ellipsis> Type Checkers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_4> <span class="md-nav__icon md-icon"></span> Type Checkers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../mypy/ class=md-nav__link> <span class=md-ellipsis> Mypy </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_5> <label class=md-nav__link for=__nav_3_3_5 id=__nav_3_3_5_label tabindex=0> <span class=md-ellipsis> Security Checkers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_5> <span class="md-nav__icon md-icon"></span> Security Checkers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../safety/ class=md-nav__link> <span class=md-ellipsis> Safety </span> </a> </li> <li class=md-nav__item> <a href=../../bandit/ class=md-nav__link> <span class=md-ellipsis> Bandit </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3_6> <label class=md-nav__link for=__nav_3_3_6 id=__nav_3_3_6_label tabindex=0> <span class=md-ellipsis> Dependency managers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3_6> <span class="md-nav__icon md-icon"></span> Dependency managers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../pip_tools/ class=md-nav__link> <span class=md-ellipsis> Pip-tools </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <label class=md-nav__link for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class=md-ellipsis> Automating Processes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Automating Processes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux/cookiecutter/ class=md-nav__link> <span class=md-ellipsis> cookiecutter </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/cruft/ class=md-nav__link> <span class=md-ellipsis> cruft </span> </a> </li> <li class=md-nav__item> <a href=../../../renovate/ class=md-nav__link> <span class=md-ellipsis> renovate </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <div class="md-nav__link md-nav__container"> <a href=../../../storage/ class="md-nav__link "> <span class=md-ellipsis> Storage </span> </a> <label class="md-nav__link " for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../nas/ class=md-nav__link> <span class=md-ellipsis> NAS </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/zfs/ class=md-nav__link> <span class=md-ellipsis> OpenZFS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6 checked> <label class=md-nav__link for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class=md-ellipsis> Monitoring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=true> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../monitoring_comparison/ class=md-nav__link> <span class=md-ellipsis> Monitoring Comparison </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6_2 checked> <div class="md-nav__link md-nav__container"> <a href=../prometheus/ class="md-nav__link "> <span class=md-ellipsis> Prometheus </span> </a> <label class="md-nav__link " for=__nav_3_6_2 id=__nav_3_6_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_6_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_6_2> <span class="md-nav__icon md-icon"></span> Prometheus </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../prometheus_architecture/ class=md-nav__link> <span class=md-ellipsis> Architecture </span> </a> </li> <li class=md-nav__item> <a href=../prometheus_operator/ class=md-nav__link> <span class=md-ellipsis> Prometheus Operator </span> </a> </li> <li class=md-nav__item> <a href=../prometheus_installation/ class=md-nav__link> <span class=md-ellipsis> Prometheus Install </span> </a> </li> <li class=md-nav__item> <a href=../alertmanager/ class=md-nav__link> <span class=md-ellipsis> AlertManager </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Blackbox Exporter </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Blackbox Exporter </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-exporter-probes class=md-nav__link> <span class=md-ellipsis> Blackbox exporter probes </span> </a> <nav class=md-nav aria-label="Blackbox exporter probes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#http-endpoint-working-correctly class=md-nav__link> <span class=md-ellipsis> HTTP endpoint working correctly </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-working-correctly class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint working correctly </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-behind-client-ssl-certificate class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint behind client SSL certificate </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-with-an-specific-error class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint with an specific error </span> </a> </li> <li class=md-nav__item> <a href=#http-endpoint-returning-an-error class=md-nav__link> <span class=md-ellipsis> HTTP endpoint returning an error </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-through-an-http-proxy class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint through an HTTP proxy </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-with-basic-auth class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint with basic auth </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-with-api-key class=md-nav__link> <span class=md-ellipsis> HTTPs endpoint with API key </span> </a> </li> <li class=md-nav__item> <a href=#https-put-file class=md-nav__link> <span class=md-ellipsis> HTTPS Put file </span> </a> </li> <li class=md-nav__item> <a href=#check-open-port class=md-nav__link> <span class=md-ellipsis> Check open port </span> </a> </li> <li class=md-nav__item> <a href=#ping-to-the-resource class=md-nav__link> <span class=md-ellipsis> Ping to the resource </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#blackbox-exporter-alerts class=md-nav__link> <span class=md-ellipsis> Blackbox exporter alerts </span> </a> <nav class=md-nav aria-label="Blackbox exporter alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#availability-alerts class=md-nav__link> <span class=md-ellipsis> Availability alerts </span> </a> <nav class=md-nav aria-label="Availability alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blackbox-probe-failed class=md-nav__link> <span class=md-ellipsis> Blackbox probe failed </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-probe-http-failure class=md-nav__link> <span class=md-ellipsis> Blackbox probe HTTP failure </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-alerts class=md-nav__link> <span class=md-ellipsis> Performance alerts </span> </a> <nav class=md-nav aria-label="Performance alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blackbox-slow-probe class=md-nav__link> <span class=md-ellipsis> Blackbox slow probe </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-probe-slow-http class=md-nav__link> <span class=md-ellipsis> Blackbox probe slow HTTP </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-probe-slow-ping class=md-nav__link> <span class=md-ellipsis> Blackbox probe slow ping </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ssl-certificate-alerts class=md-nav__link> <span class=md-ellipsis> SSL certificate alerts </span> </a> <nav class=md-nav aria-label="SSL certificate alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blackbox-ssl-certificate-will-expire-in-a-month class=md-nav__link> <span class=md-ellipsis> Blackbox SSL certificate will expire in a month </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-ssl-certificate-will-expire-in-a-few-days class=md-nav__link> <span class=md-ellipsis> Blackbox SSL certificate will expire in a few days </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-ssl-certificate-expired class=md-nav__link> <span class=md-ellipsis> Blackbox SSL certificate expired </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-alerts class=md-nav__link> <span class=md-ellipsis> Security alerts </span> </a> <nav class=md-nav aria-label="Security alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#test-endpoints-protected-with-network-policies class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with network policies </span> </a> </li> <li class=md-nav__item> <a href=#test-endpoints-protected-with-ssl-client-certificate class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with SSL client certificate </span> </a> </li> <li class=md-nav__item> <a href=#test-endpoints-protected-with-credentials class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with credentials. </span> </a> </li> <li class=md-nav__item> <a href=#test-endpoints-protected-with-waf class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with WAF. </span> </a> </li> <li class=md-nav__item> <a href=#unauthorized-read-of-s3-buckets class=md-nav__link> <span class=md-ellipsis> Unauthorized read of S3 buckets </span> </a> </li> <li class=md-nav__item> <a href=#unauthorized-write-of-s3-buckets class=md-nav__link> <span class=md-ellipsis> Unauthorized write of S3 buckets </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring-external-access-to-internal-services class=md-nav__link> <span class=md-ellipsis> Monitoring external access to internal services </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-monitors-are-not-being-created class=md-nav__link> <span class=md-ellipsis> Service monitors are not being created </span> </a> </li> <li class=md-nav__item> <a href=#probe_success-0-when-using-an-http-proxy class=md-nav__link> <span class=md-ellipsis> probe_success == 0 when using an http proxy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#links class=md-nav__link> <span class=md-ellipsis> Links </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../elasticsearch_exporter/ class=md-nav__link> <span class=md-ellipsis> Elasticsearch Exporter </span> </a> </li> <li class=md-nav__item> <a href=../node_exporter/ class=md-nav__link> <span class=md-ellipsis> Node Exporter </span> </a> </li> <li class=md-nav__item> <a href=../instance_sizing_analysis/ class=md-nav__link> <span class=md-ellipsis> Instance sizing analysis </span> </a> </li> <li class=md-nav__item> <a href=../prometheus_troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Prometheus Troubleshooting </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <label class=md-nav__link for=__nav_3_7 id=__nav_3_7_label tabindex=0> <span class=md-ellipsis> Self-hosted services </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Self-hosted services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ombi/ class=md-nav__link> <span class=md-ellipsis> Ombi </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <div class="md-nav__link md-nav__container"> <a href=../../api_management/ class="md-nav__link "> <span class=md-ellipsis> API Management </span> </a> <label class="md-nav__link " for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> API Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../kong/kong/ class=md-nav__link> <span class=md-ellipsis> Kong </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <div class="md-nav__link md-nav__container"> <a href=../../../scrum/ class="md-nav__link "> <span class=md-ellipsis> Scrum </span> </a> <label class="md-nav__link " for=__nav_3_9 id=__nav_3_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> Scrum </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9_1> <label class=md-nav__link for=__nav_3_9_1 id=__nav_3_9_1_label tabindex=0> <span class=md-ellipsis> Templates </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_9_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9_1> <span class="md-nav__icon md-icon"></span> Templates </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../refinement_template/ class=md-nav__link> <span class=md-ellipsis> Refinement Template </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_10> <label class=md-nav__link for=__nav_3_10 id=__nav_3_10_label tabindex=0> <span class=md-ellipsis> Hardware </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_10_label aria-expanded=false> <label class=md-nav__title for=__nav_3_10> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cpu/ class=md-nav__link> <span class=md-ellipsis> CPU </span> </a> </li> <li class=md-nav__item> <a href=../../../ram/ class=md-nav__link> <span class=md-ellipsis> RAM </span> </a> </li> <li class=md-nav__item> <a href=../../../psu/ class=md-nav__link> <span class=md-ellipsis> Power Supply Unit </span> </a> </li> <li class=md-nav__item> <a href=../../../pedal_pc/ class=md-nav__link> <span class=md-ellipsis> Pedal PC </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Operating Systems </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Operating Systems </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linux_snippets/ class=md-nav__link> <span class=md-ellipsis> Linux Snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../afew/ class=md-nav__link> <span class=md-ellipsis> afew </span> </a> </li> <li class=md-nav__item> <a href=../../../aleph/ class=md-nav__link> <span class=md-ellipsis> aleph </span> </a> </li> <li class=md-nav__item> <a href=../../../alot/ class=md-nav__link> <span class=md-ellipsis> alot </span> </a> </li> <li class=md-nav__item> <a href=../../../anki/ class=md-nav__link> <span class=md-ellipsis> Anki </span> </a> </li> <li class=md-nav__item> <a href=../../../activitywatch/ class=md-nav__link> <span class=md-ellipsis> ActivityWatch </span> </a> </li> <li class=md-nav__item> <a href=../../../beancount/ class=md-nav__link> <span class=md-ellipsis> beancount </span> </a> </li> <li class=md-nav__item> <a href=../../../beets/ class=md-nav__link> <span class=md-ellipsis> Beets </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/brew/ class=md-nav__link> <span class=md-ellipsis> brew </span> </a> </li> <li class=md-nav__item> <a href=../../../docker/ class=md-nav__link> <span class=md-ellipsis> Docker </span> </a> </li> <li class=md-nav__item> <a href=../../../dunst/ class=md-nav__link> <span class=md-ellipsis> dunst </span> </a> </li> <li class=md-nav__item> <a href=../../../dynamicdns/ class=md-nav__link> <span class=md-ellipsis> Dynamic DNS </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/elasticsearch/ class=md-nav__link> <span class=md-ellipsis> elasticsearch </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/fail2ban/ class=md-nav__link> <span class=md-ellipsis> fail2ban </span> </a> </li> <li class=md-nav__item> <a href=../../../ferdium/ class=md-nav__link> <span class=md-ellipsis> ferdium </span> </a> </li> <li class=md-nav__item> <a href=../../../finnix/ class=md-nav__link> <span class=md-ellipsis> finnix </span> </a> </li> <li class=md-nav__item> <a href=../../../gajim/ class=md-nav__link> <span class=md-ellipsis> Gajim </span> </a> </li> <li class=md-nav__item> <a href=../../../gh/ class=md-nav__link> <span class=md-ellipsis> Github cli </span> </a> </li> <li class=md-nav__item> <a href=../../../goaccess/ class=md-nav__link> <span class=md-ellipsis> goaccess </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/google_chrome/ class=md-nav__link> <span class=md-ellipsis> google chrome </span> </a> </li> <li class=md-nav__item> <a href=../../../graylog/ class=md-nav__link> <span class=md-ellipsis> Graylog </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/haproxy/ class=md-nav__link> <span class=md-ellipsis> HAProxy </span> </a> </li> <li class=md-nav__item> <a href=../../../hard_drive_health/ class=md-nav__link> <span class=md-ellipsis> Hard drive health </span> </a> </li> <li class=md-nav__item> <a href=../../../husboard/ class=md-nav__link> <span class=md-ellipsis> Hushboard </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/hypothesis/ class=md-nav__link> <span class=md-ellipsis> hypothesis </span> </a> </li> <li class=md-nav__item> <a href=../../../i3wm/ class=md-nav__link> <span class=md-ellipsis> i3wm </span> </a> </li> <li class=md-nav__item> <a href=../../../jellyfin/ class=md-nav__link> <span class=md-ellipsis> Jellyfin </span> </a> </li> <li class=md-nav__item> <a href=../../../ffmpeg/ class=md-nav__link> <span class=md-ellipsis> ffmpeg </span> </a> </li> <li class=md-nav__item> <a href=../../../khal/ class=md-nav__link> <span class=md-ellipsis> Khal </span> </a> </li> <li class=md-nav__item> <a href=../../../kitty/ class=md-nav__link> <span class=md-ellipsis> Kitty </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/luks/luks/ class=md-nav__link> <span class=md-ellipsis> LUKS </span> </a> </li> <li class=md-nav__item> <a href=../../../mbsync/ class=md-nav__link> <span class=md-ellipsis> mbsync </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/mkdocs/ class=md-nav__link> <span class=md-ellipsis> mkdocs </span> </a> </li> <li class=md-nav__item> <a href=../../../mopidy/ class=md-nav__link> <span class=md-ellipsis> Mopidy </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/monica/ class=md-nav__link> <span class=md-ellipsis> monica </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/network/ class=md-nav__link> <span class=md-ellipsis> network </span> </a> </li> <li class=md-nav__item> <a href=../../../notmuch/ class=md-nav__link> <span class=md-ellipsis> notmuch </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/nodejs/ class=md-nav__link> <span class=md-ellipsis> nodejs </span> </a> </li> <li class=md-nav__item> <a href=../../../oracle_database/ class=md-nav__link> <span class=md-ellipsis> Oracle Database </span> </a> </li> <li class=md-nav__item> <a href=../../../outrun/ class=md-nav__link> <span class=md-ellipsis> Outrun </span> </a> </li> <li class=md-nav__item> <a href=../../../databases/postgres/ class=md-nav__link> <span class=md-ellipsis> Postgres </span> </a> </li> <li class=md-nav__item> <a href=../../../peek/ class=md-nav__link> <span class=md-ellipsis> Peek </span> </a> </li> <li class=md-nav__item> <a href=../../../pipx/ class=md-nav__link> <span class=md-ellipsis> Pipx </span> </a> </li> <li class=md-nav__item> <a href=../../../profanity/ class=md-nav__link> <span class=md-ellipsis> Profanity </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/rm/ class=md-nav__link> <span class=md-ellipsis> rm </span> </a> </li> <li class=md-nav__item> <a href=../../../libreelec/ class=md-nav__link> <span class=md-ellipsis> Libreelec </span> </a> </li> <li class=md-nav__item> <a href=../../../rtorrent/ class=md-nav__link> <span class=md-ellipsis> Rtorrent </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/syncthing/ class=md-nav__link> <span class=md-ellipsis> Syncthing </span> </a> </li> <li class=md-nav__item> <a href=../../../tahoe/ class=md-nav__link> <span class=md-ellipsis> Tahoe-LAFS </span> </a> </li> <li class=md-nav__item> <a href=../../../vdirsyncer/ class=md-nav__link> <span class=md-ellipsis> vdirsyncer </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1_51> <div class="md-nav__link md-nav__container"> <a href=../../../vim/ class="md-nav__link "> <span class=md-ellipsis> Vim </span> </a> <label class="md-nav__link " for=__nav_4_1_51 id=__nav_4_1_51_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_1_51_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1_51> <span class="md-nav__icon md-icon"></span> Vim </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../vim_tabs/ class=md-nav__link> <span class=md-ellipsis> Tabs vs Buffers </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/vim/vim_plugins/ class=md-nav__link> <span class=md-ellipsis> Vim Plugins </span> </a> </li> <li class=md-nav__item> <a href=../../../write_neovim_plugins/ class=md-nav__link> <span class=md-ellipsis> Write Neovim Plugins </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../vscodium/ class=md-nav__link> <span class=md-ellipsis> VSCodium </span> </a> </li> <li class=md-nav__item> <a href=../../../wake_on_lan/ class=md-nav__link> <span class=md-ellipsis> Wake on Lan </span> </a> </li> <li class=md-nav__item> <a href=../../../wallabag/ class=md-nav__link> <span class=md-ellipsis> Wallabag </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/wireguard/ class=md-nav__link> <span class=md-ellipsis> Wireguard </span> </a> </li> <li class=md-nav__item> <a href=../../../wireshark/ class=md-nav__link> <span class=md-ellipsis> Wireshark </span> </a> </li> <li class=md-nav__item> <a href=../../../linux/zip/ class=md-nav__link> <span class=md-ellipsis> zip </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Android </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Android </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../android_tips/ class=md-nav__link> <span class=md-ellipsis> Android Tips </span> </a> </li> <li class=md-nav__item> <a href=../../../grapheneos/ class=md-nav__link> <span class=md-ellipsis> GrapheneOS </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_3> <label class=md-nav__link for=__nav_4_2_3 id=__nav_4_2_3_label tabindex=0> <span class=md-ellipsis> Apps </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_3> <span class="md-nav__icon md-icon"></span> Apps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cone/ class=md-nav__link> <span class=md-ellipsis> cone </span> </a> </li> <li class=md-nav__item> <a href=../../../gadgetbridge/ class=md-nav__link> <span class=md-ellipsis> GadgetBridge </span> </a> </li> <li class=md-nav__item> <a href=../../../osmand/ class=md-nav__link> <span class=md-ellipsis> OsmAnd </span> </a> </li> <li class=md-nav__item> <a href=../../../signal/ class=md-nav__link> <span class=md-ellipsis> Signal </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Science </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Science </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> Data Analysis </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Data Analysis </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_analysis/recommender_systems/recommender_systems/ class=md-nav__link> <span class=md-ellipsis> Recommender Systems </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> LinuxBook </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> LinuxBook </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <label class=md-nav__link for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class=md-ellipsis> Chapter 0 Devices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Chapter 0 Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linuxbook/devices/ class=md-nav__link> <span class=md-ellipsis> devices </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/modules/ class=md-nav__link> <span class=md-ellipsis> modules </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/hardware/ class=md-nav__link> <span class=md-ellipsis> hardware </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> Chapter 1 Booting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Chapter 1 Booting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linuxbook/booting/ class=md-nav__link> <span class=md-ellipsis> dmesg </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/systemd/ class=md-nav__link> <span class=md-ellipsis> systemd </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <label class=md-nav__link for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class=md-ellipsis> Chapter 2 Basic Commands </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Chapter 2 Basic Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linuxbook/basic_commands/ class=md-nav__link> <span class=md-ellipsis> basic commands </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/archives/ class=md-nav__link> <span class=md-ellipsis> archive </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/globbing/ class=md-nav__link> <span class=md-ellipsis> globbing </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/processes/ class=md-nav__link> <span class=md-ellipsis> processes </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/screen_tmux/ class=md-nav__link> <span class=md-ellipsis> screen_tmux </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/regex/ class=md-nav__link> <span class=md-ellipsis> regex </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <label class=md-nav__link for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class=md-ellipsis> Chapter 3 Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Chapter 3 Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linuxbook/vifm/ class=md-nav__link> <span class=md-ellipsis> vifm </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/neomutt/ class=md-nav__link> <span class=md-ellipsis> neomutt </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/vim/ class=md-nav__link> <span class=md-ellipsis> vim </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/lvim/ class=md-nav__link> <span class=md-ellipsis> lvim </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/tmux/ class=md-nav__link> <span class=md-ellipsis> tmux </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/nvimtree/ class=md-nav__link> <span class=md-ellipsis> nvimtree </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_5> <label class=md-nav__link for=__nav_6_5 id=__nav_6_5_label tabindex=0> <span class=md-ellipsis> Chapter 4 File systems </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_5_label aria-expanded=false> <label class=md-nav__title for=__nav_6_5> <span class="md-nav__icon md-icon"></span> Chapter 4 File systems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../linuxbook/partitions/ class=md-nav__link> <span class=md-ellipsis> partitions </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/filesystem/ class=md-nav__link> <span class=md-ellipsis> filesystem </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/mounting/ class=md-nav__link> <span class=md-ellipsis> mounten </span> </a> </li> <li class=md-nav__item> <a href=../../../linuxbook/permissions/ class=md-nav__link> <span class=md-ellipsis> permissions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Rezepte </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Rezepte </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> Europe </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> Europe </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../recipes/piri_piri/ class=md-nav__link> <span class=md-ellipsis> Piri Piri Chicken </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> Thai </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Thai </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../recipes/thai_peanut_chicken/ class=md-nav__link> <span class=md-ellipsis> peanut chicken curry </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <label class=md-nav__link for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class=md-ellipsis> Chinese </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> Chinese </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../recipes/five_spice_power/ class=md-nav__link> <span class=md-ellipsis> Five Spice Power </span> </a> </li> <li class=md-nav__item> <a href=../../../recipes/chili_oil/ class=md-nav__link> <span class=md-ellipsis> Sichuan Chili Oil </span> </a> </li> <li class=md-nav__item> <a href=../../../recipes/sichuan_recipes/ class=md-nav__link> <span class=md-ellipsis> authentic sichuan recipes </span> </a> </li> <li class=md-nav__item> <a href=../../../recipes/stirfry/ class=md-nav__link> <span class=md-ellipsis> stirfry </span> </a> </li> <li class=md-nav__item> <a href=../../../recipes/dandan/ class=md-nav__link> <span class=md-ellipsis> Dan Dan Noodles </span> </a> </li> <li class=md-nav__item> <a href=../../../recipes/lomein/ class=md-nav__link> <span class=md-ellipsis> Lo Mein </span> </a> </li> <li class=md-nav__item> <a href=../../../recipes/black_bean_feef/ class=md-nav__link> <span class=md-ellipsis> Black Bean Beef </span> </a> </li> <li class=md-nav__item> <a href=../../../recipes/cucumber/ class=md-nav__link> <span class=md-ellipsis> Chinese Cucumber Salad </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../contact/ class=md-nav__link> <span class=md-ellipsis> Contact </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-exporter-probes class=md-nav__link> <span class=md-ellipsis> Blackbox exporter probes </span> </a> <nav class=md-nav aria-label="Blackbox exporter probes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#http-endpoint-working-correctly class=md-nav__link> <span class=md-ellipsis> HTTP endpoint working correctly </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-working-correctly class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint working correctly </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-behind-client-ssl-certificate class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint behind client SSL certificate </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-with-an-specific-error class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint with an specific error </span> </a> </li> <li class=md-nav__item> <a href=#http-endpoint-returning-an-error class=md-nav__link> <span class=md-ellipsis> HTTP endpoint returning an error </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-through-an-http-proxy class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint through an HTTP proxy </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-with-basic-auth class=md-nav__link> <span class=md-ellipsis> HTTPS endpoint with basic auth </span> </a> </li> <li class=md-nav__item> <a href=#https-endpoint-with-api-key class=md-nav__link> <span class=md-ellipsis> HTTPs endpoint with API key </span> </a> </li> <li class=md-nav__item> <a href=#https-put-file class=md-nav__link> <span class=md-ellipsis> HTTPS Put file </span> </a> </li> <li class=md-nav__item> <a href=#check-open-port class=md-nav__link> <span class=md-ellipsis> Check open port </span> </a> </li> <li class=md-nav__item> <a href=#ping-to-the-resource class=md-nav__link> <span class=md-ellipsis> Ping to the resource </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#blackbox-exporter-alerts class=md-nav__link> <span class=md-ellipsis> Blackbox exporter alerts </span> </a> <nav class=md-nav aria-label="Blackbox exporter alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#availability-alerts class=md-nav__link> <span class=md-ellipsis> Availability alerts </span> </a> <nav class=md-nav aria-label="Availability alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blackbox-probe-failed class=md-nav__link> <span class=md-ellipsis> Blackbox probe failed </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-probe-http-failure class=md-nav__link> <span class=md-ellipsis> Blackbox probe HTTP failure </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#performance-alerts class=md-nav__link> <span class=md-ellipsis> Performance alerts </span> </a> <nav class=md-nav aria-label="Performance alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blackbox-slow-probe class=md-nav__link> <span class=md-ellipsis> Blackbox slow probe </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-probe-slow-http class=md-nav__link> <span class=md-ellipsis> Blackbox probe slow HTTP </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-probe-slow-ping class=md-nav__link> <span class=md-ellipsis> Blackbox probe slow ping </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ssl-certificate-alerts class=md-nav__link> <span class=md-ellipsis> SSL certificate alerts </span> </a> <nav class=md-nav aria-label="SSL certificate alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blackbox-ssl-certificate-will-expire-in-a-month class=md-nav__link> <span class=md-ellipsis> Blackbox SSL certificate will expire in a month </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-ssl-certificate-will-expire-in-a-few-days class=md-nav__link> <span class=md-ellipsis> Blackbox SSL certificate will expire in a few days </span> </a> </li> <li class=md-nav__item> <a href=#blackbox-ssl-certificate-expired class=md-nav__link> <span class=md-ellipsis> Blackbox SSL certificate expired </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#security-alerts class=md-nav__link> <span class=md-ellipsis> Security alerts </span> </a> <nav class=md-nav aria-label="Security alerts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#test-endpoints-protected-with-network-policies class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with network policies </span> </a> </li> <li class=md-nav__item> <a href=#test-endpoints-protected-with-ssl-client-certificate class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with SSL client certificate </span> </a> </li> <li class=md-nav__item> <a href=#test-endpoints-protected-with-credentials class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with credentials. </span> </a> </li> <li class=md-nav__item> <a href=#test-endpoints-protected-with-waf class=md-nav__link> <span class=md-ellipsis> Test endpoints protected with WAF. </span> </a> </li> <li class=md-nav__item> <a href=#unauthorized-read-of-s3-buckets class=md-nav__link> <span class=md-ellipsis> Unauthorized read of S3 buckets </span> </a> </li> <li class=md-nav__item> <a href=#unauthorized-write-of-s3-buckets class=md-nav__link> <span class=md-ellipsis> Unauthorized write of S3 buckets </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#monitoring-external-access-to-internal-services class=md-nav__link> <span class=md-ellipsis> Monitoring external access to internal services </span> </a> </li> <li class=md-nav__item> <a href=#troubleshooting class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> <nav class=md-nav aria-label=Troubleshooting> <ul class=md-nav__list> <li class=md-nav__item> <a href=#service-monitors-are-not-being-created class=md-nav__link> <span class=md-ellipsis> Service monitors are not being created </span> </a> </li> <li class=md-nav__item> <a href=#probe_success-0-when-using-an-http-proxy class=md-nav__link> <span class=md-ellipsis> probe_success == 0 when using an http proxy </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#links class=md-nav__link> <span class=md-ellipsis> Links </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Blackbox Exporter</h1> <p>The <a href=https://github.com/prometheus/blackbox_exporter>blackbox exporter</a> allows blackbox probing of endpoints over HTTP, HTTPS, DNS, TCP and ICMP.</p> <p>It can be used to test:</p> <ul> <li><a href=#availability-alerts>Website accessibility</a>. Both for availability and security purposes.</li> <li><a href=#performance-alerts>Website loading time</a>.</li> <li>DNS response times to diagnose network latency issues.</li> <li><a href=#ssl-certificate-alerts>SSL certificates expiration</a>.</li> <li><a href=#blackbox-probe-slow-ping>ICMP requests to gather network health information</a>.</li> <li><a href=#security-alerts>Security protections</a> such as if and endpoint stops being protected by VPN, WAF or SSL client certificate.</li> <li><a href=#unauthorized-read-of-s3-buckets>Unauthorized read or write S3 buckets</a>.</li> </ul> <p>When running, the Blackbox exporter is going to expose a HTTP endpoint that can be used in order to monitor targets over the network. By default, the Blackbox exporter exposes the <code>/probe</code> endpoint that is used to retrieve those metrics.</p> <p>The blackbox exporter is configured with a YAML configuration file made of <a href=https://github.com/prometheus/blackbox_exporter/blob/master/CONFIGURATION.md>modules</a>.</p> <h2 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">⚑</a></h2> <p>To install the exporter we'll use <a href=../../helmfile/ >helmfile</a> to install the <a href=https://github.com/helm/charts/tree/master/stable/prometheus-blackbox-exporter>stable/prometheus-blackbox-exporter chart</a>.</p> <p>Add the following lines to your <code>helmfile.yaml</code>.</p> <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">prometheus-blackbox-exporter</span>
<span class=w>  </span><span class=nt>namespace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">monitoring</span>
<span class=w>  </span><span class=nt>chart</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">stable/prometheus-blackbox-exporter</span>
<span class=w>  </span><span class=nt>values</span><span class=p>:</span>
<span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">prometheus-blackbox-exporter/values.yaml</span>
</code></pre></div> <p>Edit the chart values. <div class=highlight><pre><span></span><code>mkdir<span class=w> </span>prometheus-blackbox-exporter
helm<span class=w> </span>inspect<span class=w> </span>values<span class=w> </span>stable/prometheus-blackbox-exporter<span class=w> </span>&gt;<span class=w> </span>prometheus-blackbox-exporter/values.yaml
vi<span class=w> </span>prometheus-blackbox-exporter/values.yaml
</code></pre></div></p> <p>Make sure to enable the <code>serviceMonitor</code> in the values and target at least one page:</p> <div class=highlight><pre><span></span><code><span class=nt>serviceMonitor</span><span class=p>:</span>
<span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class=w>  </span><span class=c1># Default values that will be used for all ServiceMonitors created by `targets`</span>
<span class=w>  </span><span class=nt>defaults</span><span class=p>:</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>release</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">prometheus-operator</span>
<span class=w>    </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">30s</span>
<span class=w>    </span><span class=nt>scrapeTimeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">30s</span>
<span class=w>    </span><span class=nt>module</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http_2xx</span>

<span class=w>  </span><span class=nt>targets</span><span class=p>:</span>
<span class=w>   </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lyz-code.github.io/blue-book</span>
<span class=w>     </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://lyz-code.github.io/blue-book</span>
</code></pre></div> <p>The label <code>release: prometheus-operator</code> must be the <a href=../prometheus_troubleshooting/#service-monitor-not-being-recognized>one your prometheus instance is searching for</a>.</p> <p>If you want to use the <code>icmp</code> probe, make sure to allow <code>allowIcmp: true</code>.</p> <p>If you want to probe endpoints protected behind client SSL certificates, until this <a href=https://github.com/helm/charts/issues/21345>chart issue</a> is solved, you need to create them manually as the Prometheus blackbox exporter helm chart doesn't yet create the required secrets.</p> <div class=highlight><pre><span></span><code>kubectl<span class=w> </span>create<span class=w> </span>secret<span class=w> </span>generic<span class=w> </span>monitor-certificates<span class=w> </span><span class=se>\</span>
<span class=w>    </span>--from-file<span class=o>=</span>monitor.crt.pem<span class=w> </span><span class=se>\</span>
<span class=w>    </span>--from-file<span class=o>=</span>monitor.key.pem<span class=w> </span><span class=se>\</span>
<span class=w>    </span>-n<span class=w> </span>monitoring
</code></pre></div> <p>Where <code>monitor.crt.pem</code> and <code>monitor.key.pem</code> are the SSL certificate and key for the monitor account.</p> <p>I've found two grafana dashboards for the blackbox exporter. <a href=https://grafana.com/dashboards/7587><code>7587</code></a> didn't work straight out of the box while <a href=https://grafana.com/dashboards/5345><code>5345</code></a> did. Taking as reference the <a href=https://github.com/helm/charts/blob/master/stable/grafana/values.yaml>grafana</a> helm chart values, add the following yaml under the <code>grafana</code> key in the <code>prometheus-operator</code> <code>values.yaml</code>.</p> <div class=highlight><pre><span></span><code><span class=nt>grafana</span><span class=p>:</span>
<span class=w>  </span><span class=nt>enabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>  </span><span class=nt>defaultDashboardsEnabled</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>  </span><span class=nt>dashboardProviders</span><span class=p>:</span>
<span class=w>    </span><span class=nt>dashboardproviders.yaml</span><span class=p>:</span>
<span class=w>      </span><span class=nt>apiVersion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>      </span><span class=nt>providers</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&#39;default&#39;</span>
<span class=w>        </span><span class=nt>orgId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class=w>        </span><span class=nt>folder</span><span class=p>:</span><span class=w> </span><span class=s>&#39;&#39;</span>
<span class=w>        </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">file</span>
<span class=w>        </span><span class=nt>disableDeletion</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>        </span><span class=nt>editable</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>        </span><span class=nt>options</span><span class=p>:</span>
<span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/lib/grafana/dashboards/default</span>
<span class=w>  </span><span class=nt>dashboards</span><span class=p>:</span>
<span class=w>    </span><span class=nt>default</span><span class=p>:</span>
<span class=w>      </span><span class=nt>blackbox-exporter</span><span class=p>:</span>
<span class=w>        </span><span class=c1># Ref: https://grafana.com/dashboards/5345</span>
<span class=w>        </span><span class=nt>gnetId</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5345</span>
<span class=w>        </span><span class=nt>revision</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class=w>        </span><span class=nt>datasource</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Prometheus</span>
</code></pre></div> <p>And install.</p> <div class=highlight><pre><span></span><code>helmfile<span class=w> </span>diff
helmfile<span class=w> </span>apply
</code></pre></div> <h2 id=blackbox-exporter-probes>Blackbox exporter probes<a class=headerlink href=#blackbox-exporter-probes title="Permanent link">⚑</a></h2> <p>Modules define how blackbox exporter is going to query the endpoint, therefore one needs to be created for each request type under the <code>config.modules</code> section of the chart.</p> <p>The modules are then used in the <code>targets</code> section for the desired endpoints.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class=nt>targets</span><span class=p>:</span>
<span class=w>   </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lyz-code.github.io/blue-book</span>
<span class=w>     </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://lyz-code.github.io/blue-book</span>
<span class=w>     </span><span class=nt>module</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https_2xx</span>
</code></pre></div> <h3 id=http-endpoint-working-correctly>HTTP endpoint working correctly<a class=headerlink href=#http-endpoint-working-correctly title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>http_2xx</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>  </span><span class=nt>http</span><span class=p>:</span>
<span class=w>    </span><span class=nt>valid_http_versions</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;HTTP/1.1&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/2.0&quot;</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>valid_status_codes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>200</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ip4&quot;</span>
</code></pre></div> <h3 id=https-endpoint-working-correctly>HTTPS endpoint working correctly<a class=headerlink href=#https-endpoint-working-correctly title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>https_2xx</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>  </span><span class=nt>http</span><span class=p>:</span>
<span class=w>    </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">GET</span>
<span class=w>    </span><span class=nt>fail_if_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>fail_if_not_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>valid_http_versions</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;HTTP/1.1&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/2.0&quot;</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>valid_status_codes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>200</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ip4&quot;</span>
</code></pre></div> <h3 id=https-endpoint-behind-client-ssl-certificate>HTTPS endpoint behind client SSL certificate<a class=headerlink href=#https-endpoint-behind-client-ssl-certificate title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>https_client_2xx</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>  </span><span class=nt>http</span><span class=p>:</span>
<span class=w>    </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">GET</span>
<span class=w>    </span><span class=nt>fail_if_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>fail_if_not_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>valid_http_versions</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;HTTP/1.1&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/2.0&quot;</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>valid_status_codes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>200</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ip4&quot;</span>
<span class=w>    </span><span class=nt>tls_config</span><span class=p>:</span>
<span class=w>      </span><span class=nt>cert_file</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/secrets/monitor.crt.pem</span>
<span class=w>      </span><span class=nt>key_file</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/etc/secrets/monitor.key.pem</span>
</code></pre></div> <p>Where the secrets have been created throughout the installation.</p> <h3 id=https-endpoint-with-an-specific-error>HTTPS endpoint with an specific error<a class=headerlink href=#https-endpoint-with-an-specific-error title="Permanent link">⚑</a></h3> <p>If you don't want to configure the authentication for example for an API, you can fetch the expected error.</p> <div class=highlight><pre><span></span><code><span class=nt>https_client_api</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>  </span><span class=nt>http</span><span class=p>:</span>
<span class=w>    </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">GET</span>
<span class=w>    </span><span class=nt>fail_if_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>fail_if_not_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>valid_http_versions</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;HTTP/1.1&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/2.0&quot;</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>valid_status_codes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>404</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ip4&quot;</span>
<span class=w>    </span><span class=nt>fail_if_body_not_matches_regexp</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&#39;.*ERROR</span><span class=nv> </span><span class=s>route</span><span class=nv> </span><span class=s>not.*&#39;</span>
</code></pre></div> <h3 id=http-endpoint-returning-an-error>HTTP endpoint returning an error<a class=headerlink href=#http-endpoint-returning-an-error title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>http_4xx</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>  </span><span class=nt>http</span><span class=p>:</span>
<span class=w>    </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">HEAD</span>
<span class=w>    </span><span class=nt>valid_status_codes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>404</span><span class="p p-Indicator">,</span><span class=w> </span><span class=nv>403</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>valid_http_versions</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;HTTP/1.1&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/2.0&quot;</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
</code></pre></div> <h3 id=https-endpoint-through-an-http-proxy>HTTPS endpoint through an HTTP proxy<a class=headerlink href=#https-endpoint-through-an-http-proxy title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>https_external_2xx</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>  </span><span class=nt>http</span><span class=p>:</span>
<span class=w>    </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">GET</span>
<span class=w>    </span><span class=nt>fail_if_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>fail_if_not_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>    </span><span class=nt>valid_http_versions</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;HTTP/1.0&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/1.1&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/2.0&quot;</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>valid_status_codes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>200</span><span class="p p-Indicator">]</span>
<span class=w>    </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>    </span><span class=nt>proxy_url</span><span class=p>:</span><span class=w> </span><span class=s>&quot;http://{{</span><span class=nv> </span><span class=s>proxy_url</span><span class=nv> </span><span class=s>}}:{{</span><span class=nv> </span><span class=s>proxy_port</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>    </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ip4&quot;</span>
</code></pre></div> <h3 id=https-endpoint-with-basic-auth>HTTPS endpoint with basic auth<a class=headerlink href=#https-endpoint-with-basic-auth title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>https_basic_auth_2xx</span><span class=p>:</span>
<span class=w>    </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>    </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>    </span><span class=nt>http</span><span class=p>:</span>
<span class=w>        </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">GET</span>
<span class=w>        </span><span class=nt>fail_if_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>        </span><span class=nt>fail_if_not_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>        </span><span class=nt>valid_http_versions</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">HTTP/1.1</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">HTTP/2.0</span>
<span class=w>        </span><span class=nt>valid_status_codes</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class=w>        </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>        </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ip4</span>
<span class=w>        </span><span class=nt>basic_auth</span><span class=p>:</span>
<span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>username</span><span class=w> </span><span class="p p-Indicator">}}</span>
<span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>password</span><span class=w> </span><span class="p p-Indicator">}}</span>
</code></pre></div> <h3 id=https-endpoint-with-api-key>HTTPs endpoint with API key<a class=headerlink href=#https-endpoint-with-api-key title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>https_api_2xx</span><span class=p>:</span>
<span class=w>    </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>    </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>    </span><span class=nt>http</span><span class=p>:</span>
<span class=w>        </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">GET</span>
<span class=w>        </span><span class=nt>fail_if_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>        </span><span class=nt>fail_if_not_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>        </span><span class=nt>valid_http_versions</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">HTTP/1.1</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">HTTP/2.0</span>
<span class=w>        </span><span class=nt>valid_status_codes</span><span class=p>:</span>
<span class=w>        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">200</span>
<span class=w>        </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>        </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ip4</span>
<span class=w>        </span><span class=nt>headers</span><span class=p>:</span>
<span class=w>            </span><span class=nt>apikey</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>api_key</span><span class=w> </span><span class="p p-Indicator">}}</span>
</code></pre></div> <h3 id=https-put-file>HTTPS Put file<a class=headerlink href=#https-put-file title="Permanent link">⚑</a></h3> <p>Test if the probe can upload a file.</p> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nt>https_put_file_2xx</span><span class=p>:</span>
<span class=w>      </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class=w>      </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>      </span><span class=nt>http</span><span class=p>:</span>
<span class=w>        </span><span class=nt>method</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">PUT</span>
<span class=w>        </span><span class=nt>body</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">hi</span>
<span class=w>        </span><span class=nt>fail_if_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>        </span><span class=nt>fail_if_not_ssl</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class=w>        </span><span class=nt>valid_http_versions</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=s>&quot;HTTP/1.1&quot;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&quot;HTTP/2.0&quot;</span><span class="p p-Indicator">]</span>
<span class=w>        </span><span class=nt>valid_status_codes</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>200</span><span class="p p-Indicator">]</span>
<span class=w>        </span><span class=nt>no_follow_redirects</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class=w>        </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ip4&quot;</span>
</code></pre></div> <h3 id=check-open-port>Check open port<a class=headerlink href=#check-open-port title="Permanent link">⚑</a></h3> <div class=highlight><pre><span></span><code><span class=nt>tcp_connect</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tcp</span>
</code></pre></div> <p>The port is specified when using the module.</p> <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lyz-code.github.io</span>
<span class=w>  </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">lyz-code.github.io:389</span>
<span class=w>  </span><span class=nt>module</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tcp_connect</span>
</code></pre></div> <h3 id=ping-to-the-resource>Ping to the resource<a class=headerlink href=#ping-to-the-resource title="Permanent link">⚑</a></h3> <p>Test if the target is alive. It's useful When you don't know what port to check or if it uses UDP.</p> <div class=highlight><pre><span></span><code><span class=nt>ping</span><span class=p>:</span>
<span class=w>  </span><span class=nt>prober</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">icmp</span>
<span class=w>  </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
<span class=w>  </span><span class=nt>icmp</span><span class=p>:</span>
<span class=w>    </span><span class=nt>preferred_ip_protocol</span><span class=p>:</span><span class=w> </span><span class=s>&quot;ip4&quot;</span>
</code></pre></div> <h2 id=blackbox-exporter-alerts>Blackbox exporter alerts<a class=headerlink href=#blackbox-exporter-alerts title="Permanent link">⚑</a></h2> <p>Now that we've got the metrics, we can define the <a href=../alertmanager/#alert-rules>alert rules</a>. Most have been tweaked from the <a href=https://awesome-prometheus-alerts.grep.to/rules>Awesome prometheus alert rules</a> collection.</p> <p>To make security tests</p> <h3 id=availability-alerts>Availability alerts<a class=headerlink href=#availability-alerts title="Permanent link">⚑</a></h3> <p>The most basic probes, test if the service is up and returning.</p> <h4 id=blackbox-probe-failed>Blackbox probe failed<a class=headerlink href=#blackbox-probe-failed title="Permanent link">⚑</a></h4> <p>Blackbox probe failed.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxProbeFailed</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success == 0</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>failed</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Probe</span><span class=nv> </span><span class=s>failed\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_success+%3D%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <p>If you use the <a href=#security-alerts>security alerts</a>, use the following <code>expr:</code> instead</p> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success{target!~&quot;.*-fail-.*$&quot;} == 0</span>
</code></pre></div> <h4 id=blackbox-probe-http-failure>Blackbox probe HTTP failure<a class=headerlink href=#blackbox-probe-http-failure title="Permanent link">⚑</a></h4> <p>HTTP status code is not 200-399.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxProbeHttpFailure</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_http_status_code &lt;= 199 OR probe_http_status_code &gt;= 400</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>HTTP</span><span class=nv> </span><span class=s>failure</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;HTTP</span><span class=nv> </span><span class=s>status</span><span class=nv> </span><span class=s>code</span><span class=nv> </span><span class=s>is</span><span class=nv> </span><span class=s>not</span><span class=nv> </span><span class=s>200-399\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C+86400+%2A+30&amp;g0.tab=1&quot;</span>
</code></pre></div> <h3 id=performance-alerts>Performance alerts<a class=headerlink href=#performance-alerts title="Permanent link">⚑</a></h3> <h4 id=blackbox-slow-probe>Blackbox slow probe<a class=headerlink href=#blackbox-slow-probe title="Permanent link">⚑</a></h4> <p>Blackbox probe took more than 1s to complete.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxSlowProbe</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">avg_over_time(probe_duration_seconds[1m]) &gt; 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">warning</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>slow</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>(target</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>took</span><span class=nv> </span><span class=s>more</span><span class=nv> </span><span class=s>than</span><span class=nv> </span><span class=s>1s</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>complete\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=avg_over_time%28probe_duration_seconds%5B1m%5D%29+%3E+1&amp;g0.tab=1&quot;</span>
</code></pre></div> <p>If you use the <a href=#security-alerts>security alerts</a>, use the following <code>expr:</code> instead</p> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">avg_over_time(probe_duration_seconds{,target!~&quot;.*-fail-.*&quot;}[1m]) &gt; 1</span>
</code></pre></div> <h4 id=blackbox-probe-slow-http>Blackbox probe slow HTTP<a class=headerlink href=#blackbox-probe-slow-http title="Permanent link">⚑</a></h4> <p>HTTP request took more than 1s.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxProbeSlowHttp</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">avg_over_time(probe_http_duration_seconds[1m]) &gt; 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">warning</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>slow</span><span class=nv> </span><span class=s>HTTP</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;HTTP</span><span class=nv> </span><span class=s>request</span><span class=nv> </span><span class=s>took</span><span class=nv> </span><span class=s>more</span><span class=nv> </span><span class=s>than</span><span class=nv> </span><span class=s>1s\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=avg_over_time%28probe_http_duration_seconds%5B1m%5D%29+%3E+1&amp;g0.tab=1&quot;</span>
</code></pre></div> <p>If you use the <a href=#security-alerts>security alerts</a>, use the following <code>expr:</code> instead</p> <div class=highlight><pre><span></span><code><span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">avg_over_time(probe_http_duration_seconds{,target!~&quot;.*-fail-.*&quot;}[1m]) &gt; 1</span>
</code></pre></div> <h4 id=blackbox-probe-slow-ping>Blackbox probe slow ping<a class=headerlink href=#blackbox-probe-slow-ping title="Permanent link">⚑</a></h4> <p>Blackbox ping took more than 1s.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxProbeSlowPing</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">avg_over_time(probe_icmp_duration_seconds[1m]) &gt; 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">warning</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>slow</span><span class=nv> </span><span class=s>ping</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>ping</span><span class=nv> </span><span class=s>took</span><span class=nv> </span><span class=s>more</span><span class=nv> </span><span class=s>than</span><span class=nv> </span><span class=s>1s\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=avg_over_time%28probe_icmp_duration_seconds%5B1m%5D%29+%3E+1&amp;g0.tab=1&quot;</span>
</code></pre></div> <h3 id=ssl-certificate-alerts>SSL certificate alerts<a class=headerlink href=#ssl-certificate-alerts title="Permanent link">⚑</a></h3> <h4 id=blackbox-ssl-certificate-will-expire-in-a-month>Blackbox SSL certificate will expire in a month<a class=headerlink href=#blackbox-ssl-certificate-will-expire-in-a-month title="Permanent link">⚑</a></h4> <p>SSL certificate expires in 30 days.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxSslCertificateWillExpireSoon</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_ssl_earliest_cert_expiry - time() &lt; 86400 * 30</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">warning</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>SSL</span><span class=nv> </span><span class=s>certificate</span><span class=nv> </span><span class=s>will</span><span class=nv> </span><span class=s>expire</span><span class=nv> </span><span class=s>soon</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;SSL</span><span class=nv> </span><span class=s>certificate</span><span class=nv> </span><span class=s>expires</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>30</span><span class=nv> </span><span class=s>days\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C+86400+%2A+30&amp;g0.tab=1&quot;</span>
</code></pre></div> <h4 id=blackbox-ssl-certificate-will-expire-in-a-few-days>Blackbox SSL certificate will expire in a few days<a class=headerlink href=#blackbox-ssl-certificate-will-expire-in-a-few-days title="Permanent link">⚑</a></h4> <p>SSL certificate expires in 3 days.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxSslCertificateWillExpireSoon</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_ssl_earliest_cert_expiry - time() &lt; 86400 * 3</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>SSL</span><span class=nv> </span><span class=s>certificate</span><span class=nv> </span><span class=s>will</span><span class=nv> </span><span class=s>expire</span><span class=nv> </span><span class=s>soon</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;SSL</span><span class=nv> </span><span class=s>certificate</span><span class=nv> </span><span class=s>expires</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>3</span><span class=nv> </span><span class=s>days\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C+86400+%2A+3&amp;g0.tab=1&quot;</span>
</code></pre></div> <h4 id=blackbox-ssl-certificate-expired>Blackbox SSL certificate expired<a class=headerlink href=#blackbox-ssl-certificate-expired title="Permanent link">⚑</a></h4> <p>SSL certificate has expired already.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxSslCertificateExpired</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_ssl_earliest_cert_expiry - time() &lt;= 0</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Blackbox</span><span class=nv> </span><span class=s>SSL</span><span class=nv> </span><span class=s>certificate</span><span class=nv> </span><span class=s>expired</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;SSL</span><span class=nv> </span><span class=s>certificate</span><span class=nv> </span><span class=s>has</span><span class=nv> </span><span class=s>expired</span><span class=nv> </span><span class=s>already\n</span><span class=nv>  </span><span class=s>VALUE</span><span class=nv> </span><span class=s>=</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$value</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <h3 id=security-alerts>Security alerts<a class=headerlink href=#security-alerts title="Permanent link">⚑</a></h3> <p>To define the security alerts, I've found easier to create a probe with the action I want to prevent and make sure that the probe fails.</p> <p>This probes contain the <code>-fail-</code> key in the target name, followed by the test it's performing. This convention allows the concatenation of tests. For example, when testing if and endpoint is accessible without basic auth and without vpn we'd use:</p> <div class=highlight><pre><span></span><code><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">protected.endpoint.org-fail-without-ssl-and-without-credentials</span>
<span class=w>  </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">protected.endpoint.org</span>
<span class=w>  </span><span class=nt>module</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https_external_2xx</span>
</code></pre></div> <h4 id=test-endpoints-protected-with-network-policies>Test endpoints protected with network policies<a class=headerlink href=#test-endpoints-protected-with-network-policies title="Permanent link">⚑</a></h4> <p>Assuming that the blackbox exporter is in the internal network and that there is an http proxy on the external network we want to test. Create a working probe with the <code>https_external_2xx</code> module containing the <code>-fail-without-vpn</code> key in the target name.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxVPNProtectionRemoved</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success{target=~&quot;.*-fail-.*without-vpn.*&quot;} == 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;VPN</span><span class=nv> </span><span class=s>protection</span><span class=nv> </span><span class=s>was</span><span class=nv> </span><span class=s>removed</span><span class=nv> </span><span class=s>from</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Successful</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>the</span><span class=nv> </span><span class=s>endpoint</span><span class=nv> </span><span class=s>from</span><span class=nv> </span><span class=s>outside</span><span class=nv> </span><span class=s>the</span><span class=nv> </span><span class=s>internal</span><span class=nv> </span><span class=s>network&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <h4 id=test-endpoints-protected-with-ssl-client-certificate>Test endpoints protected with SSL client certificate<a class=headerlink href=#test-endpoints-protected-with-ssl-client-certificate title="Permanent link">⚑</a></h4> <p>Create a working probe with a module without the SSL client certificate configured, such as <code>https_2xx</code> and set the <code>-fail-without-ssl</code> key in the target name.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxClientSSLProtectionRemoved</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success{target=~&quot;.*-fail-.*without-ssl.*&quot;} == 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;SSL</span><span class=nv> </span><span class=s>client</span><span class=nv> </span><span class=s>certificate</span><span class=nv> </span><span class=s>protection</span><span class=nv> </span><span class=s>was</span><span class=nv> </span><span class=s>removed</span><span class=nv> </span><span class=s>from</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Successful</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>the</span><span class=nv> </span><span class=s>endpoint</span><span class=nv> </span><span class=s>without</span><span class=nv> </span><span class=s>SSL</span><span class=nv> </span><span class=s>certificate&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <h4 id=test-endpoints-protected-with-credentials>Test endpoints protected with credentials.<a class=headerlink href=#test-endpoints-protected-with-credentials title="Permanent link">⚑</a></h4> <p>Create a working probe with a module without the basic auth credentials configured, such as <code>https_2xx</code> and set the <code>-fail-without-credentials</code> key in the target name.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxCredentialsProtectionRemoved</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success{target=~&quot;.*-fail-.*without-credentials.*&quot;} == 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Credentials</span><span class=nv> </span><span class=s>protection</span><span class=nv> </span><span class=s>was</span><span class=nv> </span><span class=s>removed</span><span class=nv> </span><span class=s>from</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Successful</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>the</span><span class=nv> </span><span class=s>endpoint</span><span class=nv> </span><span class=s>without</span><span class=nv> </span><span class=s>credentials&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <h4 id=test-endpoints-protected-with-waf>Test endpoints protected with WAF.<a class=headerlink href=#test-endpoints-protected-with-waf title="Permanent link">⚑</a></h4> <p>Create a working probe with a module bypassing the WAF, for example directly attacking the service and set the <code>-fail-without-waf</code> key in the target name.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxWAFProtectionRemoved</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success{target=~&quot;.*-fail-.*without-waf.*&quot;} == 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;WAF</span><span class=nv> </span><span class=s>protection</span><span class=nv> </span><span class=s>was</span><span class=nv> </span><span class=s>removed</span><span class=nv> </span><span class=s>from</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Successful</span><span class=nv> </span><span class=s>probe</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>the</span><span class=nv> </span><span class=s>haproxy</span><span class=nv> </span><span class=s>endpoint</span><span class=nv> </span><span class=s>from</span><span class=nv> </span><span class=s>the</span><span class=nv> </span><span class=s>internal</span><span class=nv> </span><span class=s>network</span><span class=nv> </span><span class=s>(bypassed</span><span class=nv> </span><span class=s>the</span><span class=nv> </span><span class=s>WAF)&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <h4 id=unauthorized-read-of-s3-buckets>Unauthorized read of S3 buckets<a class=headerlink href=#unauthorized-read-of-s3-buckets title="Permanent link">⚑</a></h4> <p>Create a working probe to an existent private object in an <a href=../../aws/s3/ >S3</a> bucket and set the <code>-fail-read-object</code> key in the target name.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxS3BucketWrongReadPermissions</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success{target=~&quot;.*-fail-.*read-object.*&quot;} == 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Wrong</span><span class=nv> </span><span class=s>read</span><span class=nv> </span><span class=s>permissions</span><span class=nv> </span><span class=s>on</span><span class=nv> </span><span class=s>S3</span><span class=nv> </span><span class=s>bucket</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Successful</span><span class=nv> </span><span class=s>read</span><span class=nv> </span><span class=s>of</span><span class=nv> </span><span class=s>a</span><span class=nv> </span><span class=s>private</span><span class=nv> </span><span class=s>object</span><span class=nv> </span><span class=s>with</span><span class=nv> </span><span class=s>an</span><span class=nv> </span><span class=s>unauthenticated</span><span class=nv> </span><span class=s>user&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <h4 id=unauthorized-write-of-s3-buckets>Unauthorized write of S3 buckets<a class=headerlink href=#unauthorized-write-of-s3-buckets title="Permanent link">⚑</a></h4> <p>Create a working probe using the <code>https_put_file_2xx</code> module to try to create a file in an <a href=../../aws/s3/ >S3</a> bucket and set the <code>-fail-write-object</code> key in the target name.</p> <div class=highlight><pre><span></span><code><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>alert</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">BlackboxS3BucketWrongWritePermissions</span>
<span class=w>    </span><span class=nt>expr</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">probe_success{target=~&quot;.*-fail-.*write-object.*&quot;} == 1</span>
<span class=w>    </span><span class=nt>for</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5m</span>
<span class=w>    </span><span class=nt>labels</span><span class=p>:</span>
<span class=w>      </span><span class=nt>severity</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
<span class=w>    </span><span class=nt>annotations</span><span class=p>:</span>
<span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Wrong</span><span class=nv> </span><span class=s>write</span><span class=nv> </span><span class=s>permissions</span><span class=nv> </span><span class=s>on</span><span class=nv> </span><span class=s>S3</span><span class=nv> </span><span class=s>bucket</span><span class=nv> </span><span class=s>(instance</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}})&quot;</span>
<span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Successful</span><span class=nv> </span><span class=s>write</span><span class=nv> </span><span class=s>of</span><span class=nv> </span><span class=s>a</span><span class=nv> </span><span class=s>private</span><span class=nv> </span><span class=s>object</span><span class=nv> </span><span class=s>with</span><span class=nv> </span><span class=s>an</span><span class=nv> </span><span class=s>unauthenticated</span><span class=nv> </span><span class=s>user&quot;</span>
<span class=w>      </span><span class=nt>grafana</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>grafana_url</span><span class=nv> </span><span class=s>}}&amp;var-targets={{</span><span class=nv> </span><span class=s>$labels.target</span><span class=nv> </span><span class=s>}}&quot;</span>
<span class=w>      </span><span class=nt>prometheus</span><span class=p>:</span><span class=w> </span><span class=s>&quot;{{</span><span class=nv> </span><span class=s>prometheus_url</span><span class=nv> </span><span class=s>}}/graph?g0.expr=probe_ssl_earliest_cert_expiry+-+time%28%29+%3C%3D+0&amp;g0.tab=1&quot;</span>
</code></pre></div> <h2 id=monitoring-external-access-to-internal-services>Monitoring external access to internal services<a class=headerlink href=#monitoring-external-access-to-internal-services title="Permanent link">⚑</a></h2> <p>There are two possible solutions to simulate traffic from outside your infrastructure to the internal services. Both require the installation of an agent outside of your internal infrastructure, it can be:</p> <ul> <li>An HTTP proxy.</li> <li>A blackbox exporter instance.</li> </ul> <p>Using the proxy you have following advantages:</p> <ul> <li>It's really easy to set up a <a href=https://hub.docker.com/r/vimagick/tinyproxy>transparent http proxy</a>.</li> <li>All probe configuration goes in the same blackbox exporter instance <code>values.yaml</code>.</li> </ul> <p>With the following disadvantages:</p> <ul> <li> <p>When using an external http proxy, <a href=(https://github.com/prometheus/blackbox_exporter/pull/554)>the probe runs the DNS resolution locally</a>. Therefore if the record doesn't exist in the local server the probe will fail, even if the proxy DNS resolver has the correct record.</p> <p>The ugly workaround I've implemented is to create a "fake" DNS record in my internal DNS server so the probe sees it exist. * There is no way to do <code>tcp</code> or <code>ping</code> probes to simulate external traffic. * The latency between the blackbox exporter and the proxy is added to all the external probes.</p> </li> </ul> <p>While using an external blackbox exporter gives the following advantages:</p> <ul> <li>Traffic is completely external to the infrastructure, so the proxy disadvantages would be solved.</li> </ul> <p>And the following disadvantages:</p> <ul> <li> <p>Simulation of external traffic in AWS could be done by spawning the blackbox exporter instance in another region, but as there is no way of using EKS worker nodes in different regions, there is no way of managing the exporter from within Kubernetes. This means:</p> <ul> <li>The loose of the advantages of the <a href=../prometheus_operator/ >Prometheus operator</a>, so we have to write the configuration manually.</li> <li>Configuration can't be managed with <a href=../../helm/helm/ >Helm</a>, so two solutions should be used to manage the monitorization (Ansible could be used).</li> <li>Even if it's possible to host the second external blackbox exporter within Kubernetes, two independent <a href=../../helm/helm/ >Helm</a> charts are needed, with the consequent configuration management burden.</li> </ul> </li> </ul> <p>In conclusion, when using a Kubernetes cluster that allows the creation of worker nodes outside the main infrastructure, or if several non HTTP/HTTPS endpoints need to be probed with the <code>tcp</code> or <code>ping</code> modules, install an external blackbox exporter instance. Otherwise install an HTTP proxy and assume that you can only simulate external HTTP/HTTPS traffic.</p> <h2 id=troubleshooting>Troubleshooting<a class=headerlink href=#troubleshooting title="Permanent link">⚑</a></h2> <p>To <a href=https://www.robustperception.io/debugging-blackbox-exporter-failures>get more debugging information</a> of the blackbox probes, add <code>&amp;debug=true</code> to the probe url, for example <a href="http://localhost:9115/probe?module=http_2xx&target=https://www.prometheus.io/&debug=true">http://localhost:9115/probe?module=http_2xx&amp;target=https://www.prometheus.io/&amp;debug=true</a> .</p> <h3 id=service-monitors-are-not-being-created><a href=https://github.com/helm/charts/issues/20398>Service monitors are not being created</a><a class=headerlink href=#service-monitors-are-not-being-created title="Permanent link">⚑</a></h3> <p>When running <code>helmfile apply</code> several times to update the resources, some are not being correctly created. Until the bug is solved, a workaround is to remove the chart release <code>helm delete --purge prometeus-blackbox-exporter</code> and running <code>helmfile apply</code> again.</p> <h3 id=probe_success-0-when-using-an-http-proxy><a href=https://github.com/prometheus/blackbox_exporter/pull/554>probe_success == 0 when using an http proxy</a><a class=headerlink href=#probe_success-0-when-using-an-http-proxy title="Permanent link">⚑</a></h3> <p>Even when using an external http proxy, the probe runs the DNS resolution locally. Therefore if the record doesn't exist in the local server the probe will fail, even if the proxy DNS resolver has the correct record.</p> <p>The ugly workaround I've implemented is to create a "fake" DNS record in my internal DNS server so the probe sees it exist.</p> <h2 id=links>Links<a class=headerlink href=#links title="Permanent link">⚑</a></h2> <ul> <li><a href=https://github.com/prometheus/blackbox_exporter>Git</a>.</li> <li><a href=https://github.com/prometheus/blackbox_exporter/blob/master/CONFIGURATION.md>Blackbox exporter modules configuration</a>.</li> <li><a href=https://devconnected.com/how-to-install-and-configure-blackbox-exporter-for-prometheus/ >Devconnected introduction to blackbox exporter</a>.</li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2022-12-20T13:42:26+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2022-12-20</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/benkyonodo target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.top", "content.code.annotate", "search.suggest", "search.highlight"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../assets/javascripts/bundle.8fd75fb4.min.js></script> <script src=../../../js/timeago.min.js></script> <script src=../../../js/timeago_mkdocs_material.js></script> </body> </html>